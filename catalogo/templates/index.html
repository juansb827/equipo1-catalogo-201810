{% extends 'base.html' %}

{% block content %}
    <script>
        window.CLOUDINARY_NAME = '{{ CLOUDINARY_NAME }}'
    </script>
{% verbatim  %}
    <!-- header -->
    <header class="header ">
        <div class="overlayed">
            <div class="container">
                <div class="description ">
                    <h1>
                        <b>
                            Bienvenido al cat치logo de conocimiento

                            <p>
                                cillum dolore eu fugiat nulla pariatur. Excepteur sint occaecat cupidatat non proident,
                                sunt in culpa qui officia deserunt
                                mollit anim id est laborum.</p>
                        </b>
                        <button id="verCatalogo" class="btn btn-outline-secondary btn-lg" data-value="blog" href="#">Ver
                            cat치logo
                        </button>
                    </h1>
                </div>
            </div>
        </div>
    </header>




    <!-- Cat치logo -->
    <div class="blog" id="blog">
        <div class="container" id="vue-app">
            <h1 class="text-center">Cat치logo</h1>
            <!-- Barra de busqueda -->
            <form  class="row form-inline  justify-content-center" style="margin-bottom:4em">

                <select class="form-control col-sm-3 mr-1" id="idCategoria" v-model="searchOptions.type">
                    <option v-for="tipo in tipos" v-bind:value="tipo.key">{{ tipo.val }}</option>

                </select>


                <input type="text" id="palabrasBusqueda"  class="form-control col-sm-5"
                       placeholder="" v-model.trim="searchOptions.words">


                <button class="btn btn-outline-secondary main-button  col-sm-3 ml-1" v-on:click.prevent="buscar(true)">Buscar</button>

            </form>
            <div class="loader-container" v-if="searching">
                <div id="search-loader" class="loader"></div>
            </div>

            <div id="noResults" class="alert alert-info " role="alert" v-if="items.length == 0 && !searching ">
                <strong>No se encontraron resultados!</strong>
            </div>
            <div class="search-results" v-bind:style="{ opacity : searching ? '0' : '1' }" v-bind:class="{smooth : !searching}">

                <div class="row item-row">
                    <div class="col-md-4 col-lg-4 col-sm-12" v-for="(item,index) in paginatedItems" style="margin-bottom: 2em">
                            <div class="card">
                                <div class="card-img">
                                    <img v-bind:src="item.thumbnail">
                                </div>

                                <div class="card-body">
                                    <h4 class="card-title"> {{ item.name  }} </h4>
                                    <p class="card-text"> {{ item.description | shorten }}</p>
                                </div>
                                <div class="card-footer">
                                    <a style="color:#007bff" class="card-link" v-bind:href="getItemLink(item)">{{ item.typeName }} - {{ item.statusName }}</a>
                                </div>
                            </div>
                    </div>
                </div>
            </div>

            <ul class="pagination justify-content-center pagination-lg mt-4" id="paginador" v-if="pageCount > 0">
                <li class="page-item" v-on:click="prevPage()">
                                    <a class="page-link"   aria-label="Previous">
                                        <span aria-hidden="true">&laquo;</span>
                                        <span class="sr-only">Previous</span>
                                    </a>
                </li>
                <li class="page-item " v-for="n in pageCount" v-bind:class="{ active : n == currentPage }"><a class="page-link"  v-on:click.prevent="goToPage(n)" href="#">{{ n }}</a></li>
                <li class="page-item" v-on:click="nextPage()">
                                    <a class="page-link" aria-label="Next" >
                                        <span aria-hidden="true">&raquo;</span>
                                        <span class="sr-only">Next</span>
                                    </a>
                </li>
            </ul>


        </div>


    </div>

    <script type="text/javascript" src='../../static/js/utils.js'></script>
    <script type="text/javascript" src='../../static/js/index.js'></script>



{% endverbatim  %}
{% endblock %}